<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Doanh thu Ng√†y | Starbucks</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        body { background: #e6f2ef; font-family: 'Segoe UI', sans-serif; margin: 0; }
        .sidebar { width: 220px; background: #1e3932; color: white; position: fixed; height: 100%; padding-top: 30px; }
        .sidebar h2 { text-align: center; margin-bottom: 25px; font-size: 22px; }
        .sidebar p { padding: 10px 20px; font-size: 11px; color: #88a39a; margin: 0; text-transform: uppercase; }
        .sidebar a { display: block; color: white; padding: 12px 20px; text-decoration: none; font-size: 14px; }
        .sidebar a:hover { background: #0f3d2e; }
        .sidebar a.active { background: #0f3d2e; border-left: 4px solid #d4e9e2; }
        
        .main { margin-left: 240px; padding: 30px; }
        .header { font-size: 26px; margin-bottom: 25px; color: #1e3932; font-weight: bold; }
        
        .filter-card { background: white; padding: 20px; border-radius: 15px; margin-bottom: 20px; display: flex; gap: 15px; align-items: center; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .btn-filter { background: #00754a; color: white; border: none; padding: 10px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        
        .summary-card { background: white; padding: 25px; border-radius: 15px; margin-bottom: 25px; border-left: 5px solid #00754a; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        th, td { padding: 15px; border-bottom: 1px solid #eee; text-align: left; }
        th { background: #1e3932; color: white; font-size: 12px; text-transform: uppercase; }
        .view-bill { color: #00754a; font-weight: bold; text-decoration: none; }
    </style>
</head>
<body>
<div class="sidebar">
    <h2>Starbucks</h2>
    <a href="{{ url_for('dashboard_admin') }}">üìä Dashboard</a>
    <p>B√°o c√°o doanh thu</p>
    <a href="{{ url_for('revenue_day') }}" class="active">üìÖ Doanh thu Ng√†y</a>
    <a href="{{ url_for('revenue_month') }}">üìà Doanh thu Th√°ng</a>
    <p>H·ªá th·ªëng</p>
    <a href="{{ url_for('tables_list') }}">ü™ë Qu·∫£n l√Ω b√†n</a>
    <a href="{{ url_for('logout') }}">üö™ ƒêƒÉng xu·∫•t</a>
</div>

<div class="main">
    <div class="header">üìÖ Chi ti·∫øt doanh thu theo ng√†y</div>

    <form class="filter-card" method="GET">
        <span style="font-weight: bold; color: #1e3932;">Ch·ªçn ng√†y soi:</span>
        <input type="date" name="date" value="{{ selected_date }}" style="padding: 10px; border-radius: 8px; border: 1px solid #ddd; outline: none;">
        <button type="submit" class="btn-filter">L·ªçc d·ªØ li·ªáu</button>
    </form>

    <div class="summary-card">
        <span style="font-size: 14px; color: #666;">T·ªïng doanh thu ng√†y {{ selected_date }}:</span><br>
        <b style="font-size: 32px; color: #1e3932;">{{ "{:,.0f}".format(total) }} VNƒê</b>
    </div>

    <table>
        <thead>
            <tr>
                <th>M√£ H√≥a ƒê∆°n</th>
                <th>Th·ªùi Gian</th>
                <th>V·ªã Tr√≠ B√†n</th>
                <th>T·ªïng Ti·ªÅn</th>
                <th>H√†nh ƒê·ªông</th>
            </tr>
        </thead>
        <tbody>
            {% for inv in invoices %}
            <tr>
                <td><b>#{{ inv.id }}</b></td>
                <td>{{ inv.created_at }}</td>
                <td>B√†n s·ªë {{ inv.table_id }}</td>
                <td style="color: #00754a; font-weight: bold;">{{ "{:,.0f}".format(inv.total) }} ƒë</td>
                <td><a href="{{ url_for('invoice_detail', invoice_id=inv.id) }}" class="view-bill">Chi ti·∫øt Bill ‚Üí</a></td>
            </tr>
            {% else %}
            <tr><td colspan="5" style="text-align: center; padding: 30px; color: #999;">Kh√¥ng c√≥ d·ªØ li·ªáu h√≥a ƒë∆°n n√†o cho ng√†y n√†y.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>